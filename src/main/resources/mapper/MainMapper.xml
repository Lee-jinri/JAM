<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jam.common.mapper.MainMapper">

	<!-- 중고악기 글 리스트 -->
	<select id="fleaList" resultType="flea">
		SELECT *
		FROM (
			SELECT 
				f.post_id, f.title, f.created_at, 
				f.comment_count, f.view_count, m.user_id,  m.user_name, f.thumbnail
			FROM fleaMarket f
			LEFT JOIN Member m ON f.user_id = m.user_id
			WHERE f.sales_status = 0
			ORDER BY f.post_id DESC
		) WHERE  <![CDATA[ROWNUM <= 16 ]]>
	</select>

	<!-- 커뮤니티 글 리스트 -->
	<select id="comList" resultType="community">
		SELECT *
		FROM (
			SELECT c.post_id, c.title, c.created_at, c.comment_count, c.view_count, m.user_id,  m.user_name
			FROM community c
			LEFT JOIN Member m ON c.user_id = m.user_id
			ORDER BY c.post_id DESC 
		) WHERE <![CDATA[ROWNUM <= 15 ]]> 
	</select>
	
	<!-- 합주실 글 리스트
	<select id="roomList" resultType="room">
		SELECT *
		FROM (
			SELECT r.roomRental_no, r.roomRental_title, r.created_at, r.roomRental_reply_cnt, r.roomRental_hits, m.user_id,  m.user_name
			FROM roomRental r
			LEFT JOIN Member m ON r.user_id = m.user_id
			ORDER BY r.roomRental_date DESC
			) WHERE  <![CDATA[ROWNUM <= 15 ]]> 
	</select> -->
</mapper>